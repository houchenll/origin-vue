在 Vue.js 中，当 v-for 和 v-if 同时使用时，Vue.js 会进行一些优化，以提高性能。

具体来说，当 v-for 和 v-if 同时使用时，Vue.js 会先对 v-for 进行处理，生成对应的虚拟节点，并对每个虚拟节点应用 v-if 指令。这样做的好处是，可以在渲染时直接跳过不符合条件的虚拟节点，从而提高渲染效率。

此外，如果 v-for 和 v-if 的表达式都是静态的，即它们都不依赖于响应式数据，那么 Vue.js 还会对它们进行进一步的优化，即将它们合并成一个计算属性。这样做的好处是，可以在组件初始化时就计算出 v-for 和 v-if 的结果，从而避免在每次重新渲染时重复计算。这种优化方式称为静态提升（Static Optimization），可以大大提高渲染效率。

需要注意的是，如果 v-for 和 v-if 的表达式都依赖于响应式数据，那么就不能进行静态提升。此时，Vue.js 会为每个虚拟节点都生成一个带有 v-if 指令的虚拟节点，并在每次重新渲染时重新计算。因此，如果同时使用 v-for 和 v-if，最好将 v-if 放在外层，以避免重复计算。
